---
question: "로드 밸런서의 종류와 각각의 특징, 그리고 로드 밸런싱 알고리즘에 대해 설명해주세요."
shortAnswer: "로드 밸런서는 L4(전송 계층)와 L7(응용 계층)로 나뉘며, Round Robin, Weighted Round Robin, Least Connection 등의 알고리즘을 사용해 트래픽을 분산시킵니다."
---

# 로드 밸런서 (Load Balancer)

## 로드 밸런서 종류

### L4 로드 밸런서 (Layer 4)
**동작 계층**: 전송 계층 (TCP/UDP)

**특징**:
- IP 주소와 포트 번호 기반으로 분산
- 패킷 내용을 보지 않음 (빠른 처리)
- TCP/UDP 헤더 정보만 확인
- 상대적으로 저렴

**장점**:
- 높은 성능과 처리량
- 낮은 지연시간
- 프로토콜에 독립적

**단점**:
- 세부적인 제어 불가
- 애플리케이션 레벨 정보 활용 불가

### L7 로드 밸런서 (Layer 7)
**동작 계층**: 응용 계층 (HTTP/HTTPS)

**특징**:
- HTTP 헤더, URL, 쿠키 등 애플리케이션 데이터 기반 분산
- 콘텐츠 기반 라우팅 가능
- SSL 종료 처리 가능

**장점**:
- 정교한 트래픽 제어
- 콘텐츠 기반 라우팅
- 헬스 체크 기능 강화
- 캐싱 기능

**단점**:
- 상대적으로 높은 지연시간
- 더 많은 리소스 소모
- 비용이 높음

## 로드 밸런싱 알고리즘

### 1. Round Robin
```
요청을 서버에 순차적으로 분배
서버1 → 서버2 → 서버3 → 서버1 → ...
```
- **장점**: 구현이 간단, 균등 분배
- **단점**: 서버 성능 차이 고려 안 함

### 2. Weighted Round Robin
```
서버별 가중치를 부여하여 분배
서버1(가중치3) → 서버2(가중치1) → 서버3(가중치2)
```
- **장점**: 서버 성능에 따른 차등 분배
- **사용 예**: 고성능 서버에 더 많은 트래픽

### 3. Least Connection
```
현재 연결 수가 가장 적은 서버로 분배
```
- **장점**: 실시간 부하 상태 반영
- **적합**: 연결 지속 시간이 다양한 경우

### 4. IP Hash
```
클라이언트 IP를 해시하여 특정 서버로 분배
```
- **장점**: 세션 유지 (Session Affinity)
- **단점**: 특정 서버에 부하 집중 가능

### 5. Least Response Time
```
응답 시간이 가장 빠른 서버로 분배
```
- **장점**: 최적의 성능 보장
- **단점**: 복잡한 모니터링 필요

## 실무 시나리오

### 웹 서비스 구성 예시
```
인터넷 → L7 로드 밸런서 → 웹 서버들 (Apache/Nginx)
                      → L4 로드 밸런서 → 애플리케이션 서버들
                                      → 데이터베이스 서버들
```

### 헬스 체크 (Health Check)
- **목적**: 장애 서버 자동 제외
- **방법**: 
  - TCP 연결 확인
  - HTTP 상태 코드 확인
  - 애플리케이션 응답 확인

## 신입 면접 핵심 포인트

### 1. 고가용성 (High Availability)
- **Active-Active**: 모든 서버가 동시에 서비스
- **Active-Standby**: 주 서버 장애 시 대기 서버 활성화

### 2. 세션 관리
- **Session Sticky**: 특정 클라이언트를 특정 서버에 고정
- **Session Clustering**: 세션 정보를 여러 서버에서 공유

### 3. 실무 질문 대비
- "서버 한 대가 다운되면 어떻게 처리되나요?"
- "사용자가 로그인 상태를 유지하려면 어떻게 해야 하나요?"
- "트래픽이 급증할 때 어떻게 대응하나요?"
